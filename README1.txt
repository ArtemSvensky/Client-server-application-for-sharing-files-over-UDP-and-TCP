Клиент-серверное приложение для обмена файлами через UDP и TCP


Чтобы проверить корректную работу приложение, необходимо в консоле/терминале перейти в директорию с сервером, запустить сервер с помощью скрипта "Server1.exe 127.0.0.1 5555 temp".Затем открыть новое окно с консолью и перейти. Директорию клиента, после чего запустить его с помощью скрипта "Client1.exe 127.0.0.1 5555 6000 test.txt 500"


Описание приложения 
Имеются два консольных приложения - клиент (Client1.exe) и сервер (Server1.exe) - для обмена файлами через сокеты UDP с подтверждением по TCP.

Сервер (Server1.exe)
Параметры командной строки:

Server1.exe <IP> <порт> <каталог>

При старте сервер открывает TCP-сокет с указанным IP-адресом и портом и ожидает подключения клиента.

Клиент (Client1.exe)
Параметры командной строки:

Client.exe <IP сервера> <порт сервера> <порт UDP> <путь к файлу> <таймаут UDP>

При старте клиент пытается подключиться к серверу по TCP и отправляет имя файла и порт UDP на сервер. Затем клиент загружает файл в память и начинает отправлять его блоками UDP-пакетов. Клиент также ожидает подтверждения от сервера по TCP о приеме пакетов. Если подтверждение не получено в течение заданного таймаута, пакет повторно отправляется. По завершении передачи файла клиент уведомляет сервер о завершении через TCP-соединение и закрывает его.

После установления соединения сервер открывает UDP-сокет и начинает принимать UDP-пакеты от клиента, и отправляет подтверждения о приеме пакетов по TCP. Полученные пакеты хранятся в памяти. По получении уведомления от клиента о завершении передачи файла (подтверждены все пакеты), сервер сохраняет файл в указанный каталог.

Формат посылок по TCP и UDP
Формат посылок по TCP (имя файла, порт и подтверждения пакетов) и формат и нумерация блоков для UDP пакетов могут быть выбраны на усмотрение разработчика.

